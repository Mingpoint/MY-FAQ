#####  zab算法是zookeeper保证分布式一直的关键算法，该算法分为两部分。
1. 崩溃恢复模式： Leader不存在或者宕机时候触发该模式
   1. Leader选举
      - 首次选举: 集群刚启动
        会根据zxid+epoch+myid 进行比较，优先级为zxid>epoch>myid。每个节点在未收到其他广播时候都会投自己一票，然后广播出去；如果收到其他节点的广播消息时候如果自己尚未投票
        按照优先级（zxid最大>epoch最大>myid最大）进行比较，然后投票并且广播。
      - 再次选举：Leader宕机或者下线或者出现分区
        情况1：Leader宕机或者下线，处理情况与首次做法一样。
        情况2：某些follower和Leader发生了通信问题，导致了网络分区，这时没有Leader的分区节点会进行一次选举。
        这种情况下，因为要求获得多数的投票才可以成为 Leader，因此只有拥有多数结点的分区可以正常工作。而对于少数的
        分区即便Leader任然存在，由于日志的节点数不能过半，不能成功提交成功。

2. 消息广播模式：
   所有的操作都类似二阶段提交，Leader在收到客户端的请求后不会立刻提交，而是写入日志中，
   然后将该操作发送给follower，follower也不会立刻提交，而是写入自己的日志中并且回复Leader；过半数
   写入成功后，Leader执行提交操作，并通知其他follower执行提交操作。
